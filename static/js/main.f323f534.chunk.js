(this["webpackJsonptest_task-users_with_pagination"]=this["webpackJsonptest_task-users_with_pagination"]||[]).push([[0],{14:function(e,t,n){e.exports=n(27)},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),s=n.n(c),i=n(4),l=n(2),u=n.n(l),o=n(5),d=n(13),g=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(fetch("https://my-json-server.typicode.com/olesmarola/usersApi/users"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}))},p=function(e){return{type:"isLoading",isLoading:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"isLoading":return t.isLoading;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setError":return t.error;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setUsers":return t.users;default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setCurrentPage":return t.currentPage;default:return e}},E=function(e){return e.users},b=function(e){return e.isLoading},_=function(e){return e.currentPage},y=function(e){return e.error},w=Object(o.d)(Object(o.c)({users:h,isLoading:m,currentPage:v,error:f}),Object(o.a)(d.a)),k=n(7),N=n.n(k),P=function(e){var t=e.user;return r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.surname),r.a.createElement("td",null,t.desc))},L=[{code:"id",title:"Id"},{code:"name",title:"Name"},{code:"surname",title:"Surname"},{code:"desc",title:"Description"}],x=function(e){var t=e.users;return r.a.createElement("table",{className:"striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,L.map((function(e){return r.a.createElement("th",{key:e.code},e.title)})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(P,{key:e.id,user:e})}))))},C=function(e){for(var t=e.currentPage,n=e.setCurrentPage,a=e.tableData,c=e.withInfo,s=function(e){var a=e.target.value;t!==+a&&n(+a)},i=5*t,l=i-5,u=[],o=1;o<=Math.ceil(a.length/5);o+=1)u.push(o);return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{users:a.slice(l,i)}),r.a.createElement("div",{className:"pagination__container"},r.a.createElement("div",null,c&&r.a.createElement("span",{className:"pagination__info"},"From ".concat(l+1," to ").concat(i>a.length?a.length:5*t," of ").concat(a.length))),r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",null,r.a.createElement("button",{type:"button",className:N()("pagination__page",{"pagination__page--disabled":1===t}),onClick:function(){n(t-1)},disabled:1===t},"Previous")),u.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement("button",{className:N()("pagination__page",{"pagination__page--active":t===e}),type:"button",key:e,value:e,onClick:s},e))})),r.a.createElement("li",null,r.a.createElement("button",{type:"button",className:N()("pagination__page",{"pagination__page--disabled":t===u.length}),disabled:t===u.length,onClick:function(){n(t+1)}},"Next")))))},j=Object(i.b)((function(e){return{currentPage:_(e)}}),{setCurrentPage:function(e){return{type:"setCurrentPage",currentPage:e}}})(C);C.defaultProps={withInfo:!1};n(25),n(26);var I=Object(i.b)((function(e){return{users:E(e),isLoading:b(e),error:y(e)}}),{loadUsers:function(){return function(e){var t,n;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e(p(!0)),a.next=4,u.a.awrap(g());case 4:t=a.sent,e({type:"setUsers",users:t}),e(p(!1)),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),n=a.t0.message+". Reload page and try again, please!",e(p(!1)),e({type:"setError",error:n});case 14:case"end":return a.stop()}}),null,null,[[0,9]])}}})((function(e){var t=e.users,n=e.isLoading,a=e.loadUsers,c=e.error;return c.length?(console.log("err"),r.a.createElement("p",null,c)):r.a.createElement("div",{className:"container"},t.length>0?r.a.createElement(j,{tableData:t,withInfo:!0}):r.a.createElement("div",{className:"post__start"},r.a.createElement("button",{disabled:n,className:"waves-effect waves-light btn-large button__load",type:"button",onClick:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(a());case 2:case"end":return e.stop()}}))}},n?"Loading...":"Load Users",r.a.createElement("i",{className:"material-icons right"},"cloud"))))}));s.a.render(r.a.createElement(i.a,{store:w},r.a.createElement(I,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f323f534.chunk.js.map